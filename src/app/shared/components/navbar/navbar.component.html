<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="#"><i class="fab fa-itch-io"></i>ISTIM</a>
    <button
      class="navbar-toggler"
      type="button"
      (click)="isMenuCollapsed = !isMenuCollapsed"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div
      [ngbCollapse]="isMenuCollapsed"
      class="collapse navbar-collapse position-relative"
      id="navbarSupportedContent"
    >
    <div class="pb-lg-0 flex-lg-row menu-items">
    <div>
    <button mat-button routerLink="/">Loja</button>
    <button mat-button *ngIf = "userIsLogged()" routerLink="biblioteca">Biblioteca</button>
    <button mat-button *ngIf = "userIsLogged()" [matMenuTriggerFor]="menuProfile">{{username}}</button>
    <mat-menu #menuProfile="matMenu" class = "bg-dark">
      <button mat-menu-item class = "menu-item" routerLink="profile"><mat-icon class = "menu-item">perm_identity</mat-icon>Ver perfil</button>
      <button mat-menu-item class = "menu-item" routerLink="carrinho"><mat-icon class = "menu-item">add_shopping_cart</mat-icon>Ver carrinho</button>
    </mat-menu>
    <button *ngIf="isAdmin()" mat-button [matMenuTriggerFor]="menuAdmin">Menu Admin</button>
    <mat-menu #menuAdmin="matMenu" class = "bg-dark">
      <button mat-menu-item class= "menu-item" routerLink="categorias"
        >Categorias</button>
      <button mat-menu-item class = "menu-item" routerLink="jogos">Jogos</button>
    </mat-menu>
    </div>
        <div>
          <button
            *ngIf="!userIsLogged()"
            mat-button
            color="accent"
            routerLink="login"
          >
            <mat-icon>login</mat-icon> Iniciar Sessão
          </button>
          <button
            *ngIf="userIsLogged()"
            (click)="logout()"
            mat-button
            color="accent"
            routerLink="/"
          >
            <mat-icon>logout</mat-icon> Finalizar Sessão ({{ username }})
          </button>
        </div>
    </div>
    </div>    
  </div>
</nav>
